<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>セットアップガイド - アロナちゃん</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 40px 0;
        }

        .header h1 {
            font-size: 3rem;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .nav {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .nav a {
            color: white;
            text-decoration: none;
            margin: 0 20px;
            padding: 10px 20px;
            border-radius: 25px;
            transition: all 0.3s ease;
            display: inline-block;
        }

        .nav a:hover, .nav a.active {
            background: rgba(255,255,255,0.2);
            transform: translateY(-2px);
        }

        .main-content {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            margin-bottom: 40px;
        }

        .step {
            margin: 40px 0;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }

        .step h3 {
            color: #667eea;
            font-size: 1.8rem;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
        }

        .step h3 i {
            margin-right: 15px;
            font-size: 2rem;
        }

        .step-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
        }

        .code-block {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
        }

        .code-block pre {
            margin: 0;
        }

        .highlight-box {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #667eea;
        }

        .warning-box {
            background: linear-gradient(120deg, #ffecd2 0%, #fcb69f 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #ff6b6b;
        }

        .success-box {
            background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 5px solid #51cf66;
        }

        .emoji {
            font-size: 1.2em;
        }

        .requirements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .requirement-card {
            background: white;
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .requirement-card:hover {
            transform: translateY(-5px);
        }

        .requirement-card i {
            font-size: 3rem;
            color: #667eea;
            margin-bottom: 15px;
        }

        .requirement-card h4 {
            color: #333;
            margin-bottom: 10px;
        }

        .requirement-card p {
            color: #666;
            font-size: 0.9rem;
        }

        .config-example {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .config-example h4 {
            color: #667eea;
            margin-bottom: 15px;
        }

        .yaml-key {
            color: #e83e8c;
            font-weight: bold;
        }

        .yaml-string {
            color: #28a745;
        }

        .yaml-comment {
            color: #6c757d;
            font-style: italic;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.5rem;
            }
            
            .main-content {
                padding: 20px;
            }
            
            .nav a {
                display: block;
                margin: 10px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <h1><span class="emoji">🔧</span> セットアップガイド</h1>
        </header>

        <nav class="nav">
            <a href="index.html"><i class="fas fa-home"></i> ホーム</a>
            <a href="features.html"><i class="fas fa-star"></i> 機能詳細</a>
            <a href="setup.html" class="active"><i class="fas fa-cog"></i> セットアップ</a>
            <a href="commands.html"><i class="fas fa-terminal"></i> コマンド</a>
        </nav>

        <main class="main-content">
            <section class="step">
                <h3><i class="fas fa-download"></i> ステップ1: 必要な環境の準備</h3>
                
                <div class="requirements-grid">
                    <div class="requirement-card">
                        <i class="fab fa-python"></i>
                        <h4>Python 3.8+</h4>
                        <p>Python 3.8以降がインストールされている必要があります。</p>
                    </div>
                    <div class="requirement-card">
                        <i class="fab fa-discord"></i>
                        <h4>Discord Bot Token</h4>
                        <p>Discord Developer PortalでBOTトークンを取得してください。</p>
                    </div>
                    <div class="requirement-card">
                        <i class="fas fa-key"></i>
                        <h4>Gemini API Key</h4>
                        <p>Google AI StudioでAPIキーを取得してください（任意）。</p>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>⚠️ 注意:</strong> Discord Bot TokenとGemini API Keyは機密情報です。絶対に他人と共有しないでください。
                </div>
            </section>

            <section class="step">
                <h3><i class="fas fa-clone"></i> ステップ2: リポジトリのクローン</h3>
                
                <div class="code-block">
                    <pre>git clone &lt;リポジトリのURL&gt;
cd MedicationManagement</pre>
                </div>

                <div class="highlight-box">
                    <strong>💡 ヒント:</strong> リポジトリのURLはGitHubのページから取得できます。
                </div>
            </section>

            <section class="step">
                <h3><i class="fas fa-box"></i> ステップ3: 依存関係のインストール</h3>
                
                <div class="code-block">
                    <pre>pip install -r requirements.txt</pre>
                </div>

                <div class="config-example">
                    <h4>requirements.txt の内容:</h4>
                    <div class="code-block">
                        <pre>discord.py
pyyaml
pytz
google-generativeai</pre>
                    </div>
                </div>

                <div class="success-box">
                    <strong>✅ 成功:</strong> すべての依存関係がインストールされました。
                </div>
            </section>

            <section class="step">
                <h3><i class="fas fa-cog"></i> ステップ4: 設定ファイルの作成</h3>
                
                <p><code>config-default.yaml</code>をコピーして<code>config.yaml</code>として編集してください。</p>

                <div class="code-block">
                    <pre># Windows
copy config-default.yaml config.yaml

# Linux/Mac
cp config-default.yaml config.yaml</pre>
                </div>

                <div class="config-example">
                    <h4>config.yaml の設定例:</h4>
                    <div class="code-block">
                        <pre><span class="yaml-comment"># Discord BOTのトークン</span>
<span class="yaml-key">token:</span> <span class="yaml-string">"YOUR_DISCORD_BOT_TOKEN"</span>

<span class="yaml-comment"># 通知を送信するチャンネルのID</span>
<span class="yaml-key">channel_id:</span> <span class="yaml-string">123456789012345678</span>

<span class="yaml-comment"># 管理対象のユーザーリスト</span>
<span class="yaml-key">target_users:</span>
  - <span class="yaml-key">id:</span> <span class="yaml-string">111111111111111111</span>
    <span class="yaml-key">name:</span> <span class="yaml-string">"ユーザーA"</span>
  - <span class="yaml-key">id:</span> <span class="yaml-string">222222222222222222</span>
    <span class="yaml-key">name:</span> <span class="yaml-string">"ユーザーB"</span>

<span class="yaml-comment"># 通知時間の設定</span>
<span class="yaml-key">notify_times:</span>
  - <span class="yaml-string">"08:00"</span>
  - <span class="yaml-string">"20:00"</span>

<span class="yaml-comment"># Gemini API設定</span>
<span class="yaml-key">gemini_api_key:</span> <span class="yaml-string">"YOUR_GEMINI_API_KEY"</span></pre>
                    </div>
                </div>

                <div class="warning-box">
                    <strong>🔑 重要:</strong> 以下の値を必ず変更してください：
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li><code>token</code>: Discord Bot Token</li>
                        <li><code>channel_id</code>: 通知を送信するチャンネルID</li>
                        <li><code>target_users</code>: 管理対象のユーザーID</li>
                        <li><code>gemini_api_key</code>: Gemini API Key（任意）</li>
                    </ul>
                </div>
            </section>

            <section class="step">
                <h3><i class="fas fa-id-card"></i> ステップ5: Discord IDの取得方法</h3>
                
                <div class="highlight-box">
                    <strong>📋 Discord ID取得手順:</strong>
                </div>

                <ol style="margin: 20px 0; padding-left: 30px;">
                    <li>Discordの設定を開く</li>
                    <li>「詳細設定」→「開発者モード」をオンにする</li>
                    <li>対象のユーザーやチャンネルを右クリック</li>
                    <li>「IDをコピー」を選択</li>
                </ol>

                <div class="code-example">
                    <pre>ユーザーID例: 123456789012345678
チャンネルID例: 987654321098765432</pre>
                </div>
            </section>

            <section class="step">
                <h3><i class="fas fa-robot"></i> ステップ6: Discord Botの作成</h3>
                
                <div class="highlight-box">
                    <strong>🤖 Discord Bot作成手順:</strong>
                </div>

                <ol style="margin: 20px 0; padding-left: 30px;">
                    <li><a href="https://discord.com/developers/applications" target="_blank">Discord Developer Portal</a>にアクセス</li>
                    <li>「New Application」をクリック</li>
                    <li>アプリケーション名を入力して作成</li>
                    <li>「Bot」タブを選択</li>
                    <li>「Add Bot」をクリック</li>
                    <li>「Token」をコピーしてconfig.yamlに設定</li>
                    <li>「OAuth2」→「URL Generator」で権限を設定</li>
                    <li>生成されたURLでサーバーに招待</li>
                </ol>

                <div class="warning-box">
                    <strong>🔐 必要な権限:</strong>
                    <ul style="margin-top: 10px; padding-left: 20px;">
                        <li>Send Messages</li>
                        <li>Use Slash Commands</li>
                        <li>Embed Links</li>
                        <li>Read Message History</li>
                    </ul>
                </div>
            </section>

            <section class="step">
                <h3><i class="fas fa-key"></i> ステップ7: Gemini API Keyの取得（任意）</h3>
                
                <div class="highlight-box">
                    <strong>🧠 Gemini API Key取得手順:</strong>
                </div>

                <ol style="margin: 20px 0; padding-left: 30px;">
                    <li><a href="https://aistudio.google.com/" target="_blank">Google AI Studio</a>にアクセス</li>
                    <li>Googleアカウントでログイン</li>
                    <li>「Get API Key」をクリック</li>
                    <li>「Create API Key」を選択</li>
                    <li>生成されたAPI Keyをコピー</li>
                    <li>config.yamlの<code>gemini_api_key</code>に設定</li>
                </ol>

                <div class="warning-box">
                    <strong>💡 注意:</strong> Gemini API Keyは無料枠がありますが、使用量に応じて課金される場合があります。
                </div>
            </section>

            <section class="step">
                <h3><i class="fas fa-play"></i> ステップ8: BOTの起動</h3>
                
                <div class="code-block">
                    <pre>python main.py</pre>
                </div>

                <div class="success-box">
                    <strong>🎉 成功時の表示:</strong>
                    <div class="code-block">
                        <pre>アロナちゃん としてログインしました。
ステータスを「お薬の時間だよ」に設定しました。
5個のコマンドを同期しました。
通知設定時間 (JST): ['08:00', '20:00']</pre>
                    </div>
                </div>

                <div class="highlight-box">
                    <strong>🚀 簡単起動:</strong> 面倒な人は<code>start.bat</code>をダブルクリックしてください。
                </div>
            </section>

            <section class="step">
                <h3><i class="fas fa-check-circle"></i> ステップ9: 動作確認</h3>
                
                <div class="highlight-box">
                    <strong>✅ 確認項目:</strong>
                </div>

                <ul style="margin: 20px 0; padding-left: 30px;">
                    <li>BOTがDiscordサーバーに参加している</li>
                    <li>スラッシュコマンドが表示される</li>
                    <li><code>/test_notice</code>コマンドでテスト通知が送信される</li>
                    <li>設定した時間に自動通知が送信される</li>
                </ul>

                <div class="code-block">
                    <pre># テストコマンド
/test_notice  # 自分にテスト通知を送信
/med @ユーザー  # 服薬記録を追加
/check @ユーザー  # 服薬状況を確認</pre>
                </div>
            </section>
        </main>
    </div>
</body>
</html>
